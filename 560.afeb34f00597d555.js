"use strict";(self.webpackChunkAngular_Movies=self.webpackChunkAngular_Movies||[]).push([[560],{4560:(L,w,a)=>{a.r(w),a.d(w,{AuthModule:()=>c});var _=a(6895),m=a(6161),n=a(4006);class T{static equalPasswords(o){const e=o.get("password")?.value,i=o.get("confirmPassword")?.value;return e===i?null:{match_password:!0}}static validPassword(o){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&#.$($)$-$_])[A-Za-z\d$@$!%*?&#.$($)$-$_]{5,20}$/.test(o.value)?null:{invalid_password:!0}}}var t=a(4650),C=a(7556),f=a(9101),Z=a(7392),s=a(3546),q=a(4144),l=a(9549);function x(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getErrorMessage())}}function y(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Formato Invalido"),t.qZA())}function A(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getErrorMessage())}}function I(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"La contrase\xf1a no cumple el formato"),t.qZA())}function b(r,o){if(1&r&&(t.TgZ(0,"a",12),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getPasswordParams())}}function M(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getErrorMessage())}}function P(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Las contrase\xf1as no coinciden"),t.qZA())}class d{constructor(o,e,i){this.formBuilder=o,this.authService=e,this.router=i,this.hide=!0,this.hide2=!0,this.form=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,T.validPassword]),confirmPassword:new n.NI("",[n.kI.required])},{validators:[T.equalPasswords]})}ngOnInit(){}onSubmit(){if(this.form.valid){const o=this.form.value,e=o.email,i=o.password;e&&i&&this.authService.createUser(e,i).then(()=>{this.router.navigate(["/auth/login"])})}}get emailField(){return this.form.get("email")}get passwordField(){return this.form.get("password")}get confirmPasswordField(){return this.form.get("confirmPassword")}getErrorMessage(){return"Este campo es requerido"}getPasswordParams(){return"La contrase\xf1a debe contener: 1 numero, 1 mayuscula, sin espacios, 1 caracter especial"}}function U(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getRequiredErrorMessage())}}function O(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getEmailErrorMessage())}}function E(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getRequiredErrorMessage())}}function J(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.getLoginError())}}d.\u0275fac=function(o){return new(o||d)(t.Y36(n.qu),t.Y36(C.e),t.Y36(m.F0))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-register"]],decls:38,vars:17,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"register-card"],["appearance","fill",1,"email"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],[4,"ngIf"],["appearance","fill",1,"password"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["class","passwordFormat",4,"ngIf"],["matInput","","formControlName","confirmPassword",3,"type"],["mat-button","","type","submit",3,"disabled"],["mat-button","","routerLink","/auth/login",1,"redirect"],[1,"passwordFormat"]],template:function(o,e){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Registrate"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Ingresa tu correo"),t.qZA(),t._UZ(9,"input",3),t.YNc(10,x,2,1,"mat-error",4),t.YNc(11,y,2,0,"mat-error",4),t.qZA(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Ingresa tu contrase\xf1a"),t.qZA(),t._UZ(15,"input",6),t.YNc(16,A,2,1,"mat-error",4),t.YNc(17,I,2,0,"mat-error",4),t.TgZ(18,"button",7),t.NdJ("click",function(){return e.hide=!e.hide}),t.TgZ(19,"mat-icon"),t._uU(20),t.qZA()()(),t.YNc(21,b,2,1,"a",8),t.TgZ(22,"mat-form-field",5)(23,"mat-label"),t._uU(24,"Ingresa nuevamente tu contrase\xf1a"),t.qZA(),t._UZ(25,"input",9),t.YNc(26,M,2,1,"mat-error",4),t.TgZ(27,"button",7),t.NdJ("click",function(){return e.hide2=!e.hide2}),t.TgZ(28,"mat-icon"),t._uU(29),t.qZA()()()(),t.YNc(30,P,2,0,"mat-error",4),t.TgZ(31,"mat-card-actions")(32,"button",10),t._uU(33,"Aceptar"),t.qZA()(),t.TgZ(34,"p"),t._uU(35,"o"),t.qZA(),t.TgZ(36,"button",11),t._uU(37,"Inicia Sesi\xf3n"),t.qZA()()()),2&o&&(t.Q6J("formGroup",e.form),t.xp6(10),t.Q6J("ngIf",e.form.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.form.controls.email.hasError("email")),t.xp6(4),t.Q6J("type",e.hide?"password":"text"),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("invalid_password")),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",(null==e.passwordField?null:e.passwordField.dirty)&&e.form.controls.password.hasError("invalid_password")),t.xp6(4),t.Q6J("type",e.hide2?"password":"text"),t.xp6(1),t.Q6J("ngIf",e.form.controls.confirmPassword.hasError("required")),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide2?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",(null==e.confirmPasswordField?null:e.confirmPasswordField.dirty)&&e.form.hasError("match_password")),t.xp6(2),t.Q6J("disabled",e.form.invalid))},dependencies:[_.O5,f.lW,f.RK,Z.Hw,s.a8,s.hq,s.dn,s.dk,s.n5,q.Nt,l.KE,l.hX,l.TO,l.R9,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#000;padding:100px}.register-card[_ngcontent-%COMP%]{width:350px;display:flex;align-items:center;justify-content:center}.password[_ngcontent-%COMP%], .email[_ngcontent-%COMP%]{width:100%}.passwordFormat[_ngcontent-%COMP%]{font-size:15px}.redirect[_ngcontent-%COMP%]{margin-bottom:10px}"]});class p{constructor(o,e){this.router=o,this.authService=e,this.hide=!0,this.loginError=!1,this.form=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(5)])})}getRequiredErrorMessage(){return"Este campo es requerido"}getEmailErrorMessage(){return"Formato Invalido"}getLoginError(){return"Usuario o contrase\xf1a invalidos"}onSubmit(){console.log("form: ",this.form.value)}login(o){if(o.preventDefault(),this.form.valid){const e=this.form.value,i=e.email,h=e.password;i&&h&&this.authService.login(i,h).then(()=>{this.router.navigate(["/admin"])}).catch(()=>{this.loginError=!0})}}}p.\u0275fac=function(o){return new(o||p)(t.Y36(m.F0),t.Y36(C.e))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-login"]],decls:28,vars:10,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"register-card"],["appearance","fill",1,"email"],["matInput","","placeholder","pat@example.com","formControlName","email","required",""],[4,"ngIf"],["appearance","fill",1,"password"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-button","","type","submit",3,"disabled"],["mat-button","","routerLink","/auth/register",1,"redirect"]],template:function(o,e){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(h){return e.login(h)}),t.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Iniciar Sesi\xf3n"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Ingresa tu correo"),t.qZA(),t._UZ(9,"input",3),t.YNc(10,U,2,1,"mat-error",4),t.YNc(11,O,2,1,"mat-error",4),t.qZA(),t.TgZ(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Ingresa tu contrase\xf1a"),t.qZA(),t._UZ(15,"input",6),t.YNc(16,E,2,1,"mat-error",4),t.TgZ(17,"button",7),t.NdJ("click",function(){return e.hide=!e.hide}),t.TgZ(18,"mat-icon"),t._uU(19),t.qZA()()()(),t.YNc(20,J,2,1,"mat-error",4),t.TgZ(21,"mat-card-actions")(22,"button",8),t._uU(23,"Aceptar"),t.qZA()(),t.TgZ(24,"p"),t._uU(25,"o"),t.qZA(),t.TgZ(26,"button",9),t._uU(27,"Registrate"),t.qZA()()()),2&o&&(t.Q6J("formGroup",e.form),t.xp6(10),t.Q6J("ngIf",e.form.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.form.controls.email.hasError("email")),t.xp6(4),t.Q6J("type",e.hide?"password":"text"),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.hasError("required")),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",e.hide),t.xp6(2),t.Oqu(e.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",e.loginError),t.xp6(2),t.Q6J("disabled",e.form.invalid))},dependencies:[_.O5,f.lW,f.RK,Z.Hw,s.a8,s.hq,s.dn,s.dk,s.n5,q.Nt,l.KE,l.hX,l.TO,l.R9,m.rH,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#000;padding:100px}.register-card[_ngcontent-%COMP%]{width:350px;display:flex;align-items:center;justify-content:center}.password[_ngcontent-%COMP%], .email[_ngcontent-%COMP%]{width:100%}.passwordFormat[_ngcontent-%COMP%]{font-size:15px}.redirect[_ngcontent-%COMP%]{margin-bottom:10px}"]});var F=a(3683),v=a(3267);class g{}g.\u0275fac=function(o){return new(o||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-layout"]],decls:15,vars:0,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav"],["drawer",""],[1,"nav"],[1,"titles"],["routerLink","/",1,"inicio"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar"),t._uU(4,"Menu"),t.qZA()(),t.TgZ(5,"mat-sidenav-content")(6,"mat-toolbar",3)(7,"div",4)(8,"mat-icon",5),t._uU(9,"arrow_back"),t.qZA(),t.TgZ(10,"span",5),t._uU(11,"Meistter Movies\u3164"),t.qZA(),t.TgZ(12,"span"),t._uU(13," |\u3164Administrator Panel"),t.qZA()()(),t._UZ(14,"router-outlet"),t.qZA()())},dependencies:[F.Ye,Z.Hw,v.JX,v.TM,v.Rh,m.lC,m.rH],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.nav[_ngcontent-%COMP%]{background-color:var(--navBlue);color:#fff}.inicio[_ngcontent-%COMP%]{margin-left:15px;cursor:pointer}.titles[_ngcontent-%COMP%]{display:flex;align-items:center}.menu[_ngcontent-%COMP%]{cursor:pointer;margin-right:15px;display:flex;align-items:center;justify-content:center;font-family:Arial,Helvetica,sans-serif;font-size:18px}"]});const N=[{path:"",component:g,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"register",component:d},{path:"login",component:p}]}];class u{}u.\u0275fac=function(o){return new(o||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[m.Bz.forChild(N),m.Bz]});var R=a(3960);class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[_.ez,R.q,u,n.UX]})}}]);